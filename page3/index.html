<!doctype html> <html lang=en > <meta charset=UTF-8 > <meta name=viewport  content="width=device-width, initial-scale=1"> <script src="/SupercomputingKhepri/libs/plotly/plotly.min.js"></script> <link rel=stylesheet  href="/SupercomputingKhepri/libs/katex/katex.min.css"> <link rel=stylesheet  href="/SupercomputingKhepri/libs/highlight/github.min.css"> <link rel=stylesheet  href="/SupercomputingKhepri/css/franklin.css"> <link rel=stylesheet  href="/SupercomputingKhepri/css/tufte.css"> <link rel=stylesheet  href="/SupercomputingKhepri/css/latex.css"> <link rel=stylesheet  href="/SupercomputingKhepri/css/adjust.css"> <link rel=icon  href="/SupercomputingKhepri/assets/favicon.png"> <title>Design Exploration</title> <div id=layout > <div id=menu > <ul> <li><a href="/SupercomputingKhepri/">Home</a> <li><a href="/SupercomputingKhepri/page1/">Introduction</a> <li><a href="/SupercomputingKhepri/page2/">Parallel Processing</a> <li><a href="/SupercomputingKhepri/page3/">Design Exploration</a> <li><a href="/SupercomputingKhepri/page4/">Optimization</a> <li><a href="/SupercomputingKhepri/page5/">Rendering</a> <li><a href="/SupercomputingKhepri/page6/">Conclusions</a> </ul> </div> <div id=main > <div class=franklin-content > <h1 id=design_exploration ><a href="#design_exploration" class=header-anchor >Design Exploration</a></h1> <p>Design space exploration is one of the simplest applications of supercomputing. The idea is to study the impact of a parameter in the performance of a given design. By dividing the domain of the parameter among different computing threads, it becomes possible to do multiple performance evaluations at the same time, each using a different design generated from a different element of the parameter&#39;s domain.</p> <p>To evaluate the benefits of the approach, we decided to experiment the design space exploration of a simple truss structure. We were interested in simulating the behavior of the structure as different parameters were changed. To have a metric for the structural performance, we focused on the maximum displacement of the structure&#39;s elements.</p> <p>Khepri supports two different structural analysis backends, namely KhepriRobot that connects to Autodesk&#39;s Robot and KhepriFrame3DD, which directly accesses a DLL that wraps Frame3DD, static and dynamic structural analysis package for 2D and 3D frames, developed by Prof. Henri P. Gavin of the Department of Civil and Environmental Engineering of Duke University. Given that Robot does not work in non-Windows environments while Frame3DD does not require a graphical user interface, the choice for Khepri&#39;s backend KhepriFrame3DD was obvious.</p> <p>Inspired by Gaudi&#39;s ideas, we decided to create a truss where each of the legs is defined by a catenary that connects the legs&#39; endpoints. The legs are interconnected using different schemes, for example, just a single bar between corresponding pairs of nodes, or diagonal bars between pairs of pairs of nodes. To make the example more interesting, we decided to design a truss made of Bamboo, placed on a slab with a randomized outline, as follows:</p> <img src="/SupercomputingKhepri/output/VDomeTrussRibsDeform2-frame-000.png" alt=""> <p>This means that the truss does not have an axis of symmetry and, therefore, will be less resistant. For the structural simulation we used an approximation of the material properties of Bamboo, namely, a Young&#39;s modulus of <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><mo>=</mo><mn>1.39</mn><mi>G</mi><mi>P</mi><mi>a</mi></mrow><annotation encoding="application/x-tex">E=1.39 GPa</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mrel >=</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span></span><span class=base ><span class=strut  style="height:0.68333em;vertical-align:0em;"></span><span class=mord >1</span><span class=mord >.</span><span class=mord >3</span><span class=mord >9</span><span class="mord mathnormal">G</span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mord mathnormal">a</span></span></span></span>, a Kirchoff&#39;s modulus of <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>G</mi><mo>=</mo><mn>0.64</mn><mi>G</mi><mi>P</mi><mi>a</mi></mrow><annotation encoding="application/x-tex">G=0.64 GPa</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal">G</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mrel >=</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span></span><span class=base ><span class=strut  style="height:0.68333em;vertical-align:0em;"></span><span class=mord >0</span><span class=mord >.</span><span class=mord >6</span><span class=mord >4</span><span class="mord mathnormal">G</span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mord mathnormal">a</span></span></span></span>, and a density of <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>d</mi><mo>=</mo><mn>5880.0</mn><mi>K</mi><mi>g</mi><mi mathvariant=normal >/</mi><msup><mi>m</mi><mn>3</mn></msup></mrow><annotation encoding="application/x-tex">d=5880.0 Kg/m^3</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathnormal">d</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mrel >=</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span></span><span class=base ><span class=strut  style="height:1.064108em;vertical-align:-0.25em;"></span><span class=mord >5</span><span class=mord >8</span><span class=mord >8</span><span class=mord >0</span><span class=mord >.</span><span class=mord >0</span><span class="mord mathnormal" style="margin-right:0.07153em;">K</span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class=mord >/</span><span class=mord ><span class="mord mathnormal">m</span><span class=msupsub ><span class=vlist-t ><span class=vlist-r ><span class=vlist  style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span></span></span></span></span></span></span></span>.</p> <p>Our first experiment was to test a vertical load of increasing magnitude being applied to all non-supported truss nodes. The load started at zero and went up to 100 N. For each load case, the structure was analyzed by KhepriFrame3DD and the computed truss node displacements were used to show the shape of the truss under load. To make the displacement more obvious, we applied a factor of 100. This means that the actual truss deformation is one hundred times smaller than what is illustrated. The following movie shows the truss behavior under increasing load:</p> <video width=700  controls> <source src="http://web.ist.utl.pt/antonio.menezes.leitao/ADA/SuperComputingFilms/VDomeTrussRibsDeform2.mp4" type="video/mp4"> Your browser does not support the video tag. </video> <p>The entire analysis, containing 200 different load cases whose results were rendered in Full HD, required 1h46m to generate. One problem we had was that each structural analysis was entirely sequential and, thus, could not benefit from multiple CPUs or multiple computing nodes. On the other hand, it is relevant to mention that, for these examples, the largest fraction of the time is spent rendering, which is already highly parallelized and takes full advantage of the 96 CPUs available.</p> <p>Another experiment was the addition of an horizontal force, which we established as one tenth of the vertical one. This small addition considerably impacts the structural behavior of the truss. The following movie compares the base load case, with this one.</p> <video width=700  controls> <source src="http://web.ist.utl.pt/antonio.menezes.leitao/ADA/SuperComputingFilms/WDomeTrussRibsDeform23.mp4" type="video/mp4"> Your browser does not support the video tag. </video> <p>The second analysis, again with 200 load cases, took 1h48m. Although we did the experiments one after the other, it would have been possible to run them in two different computing nodes, making the total time just the maximum of both times, i.e., 1h48m instead of their sum, i.e., 3h34m.</p> <p>On a further experiment, we studied the impact of the truss bars&#39; radius on the structural performance. The following movie illustrates the behavior of a truss that is loaded with a constant force of -10N on each truss node and where the radius of the truss bars goes from 3cm to 5mm. The entire analysis was completed in 1h03m.</p> <video width=700  controls> <source src="http://web.ist.utl.pt/antonio.menezes.leitao/ADA/SuperComputingFilms/DomeTrussRibsDeformRadiusW35.mp4" type="video/mp4"> Your browser does not support the video tag. </video> <p>To have a different perspective on the truss behavior, observe the following movie that more clearly shows the radius reduction and its effect on the structure shape under load.</p> <video width=700  controls> <source src="http://web.ist.utl.pt/antonio.menezes.leitao/ADA/SuperComputingFilms/DomeTrussRibsDeformRadius.mp4" type="video/mp4"> Your browser does not support the video tag. </video> <p>The previous analysis required 1h04m to produce. Again, it would have been possible to explore multiple computing nodes, to execute multiple analysis at the same time. In fact, the limitation is not the computing power available but rather the human power available, as the motivation for further analyses only emerges after studying the results of the previous ones.</p> <p>Finally, we decided to do a different design space exploration: this time, instead of exploring one design parameter, we explored different truss topologies. The difference lies in the bracings between nodes, as illustrated in the following image:</p> <img src="/SupercomputingKhepri/output/TrussTopology.png" alt=""> <p>Although the two images on the right look very similar, they are different, as the one at the bottom has two independent bar connecting alternating nodes, while the top one has one extra node on the crossing between bars, effectively making them four independent bars connected at that extra node. This has a considerable effect on the truss&#39; structural behavior as it makes it hinders its resistance to compressive forces.</p> <p>The behavior of the different truss topologies is illustrated in the following movie. All trusses were subjected to the same load case, an increasingly larger vertical force and an horizontal force that is one tenth of the vertical one. Remember that the displacement is amplified by a factor of 100.</p> <video width=700  controls> <source src="http://web.ist.utl.pt/antonio.menezes.leitao/ADA/SuperComputingFilms/WDomeTrussRibsDeform6789.mp4" type="video/mp4"> Your browser does not support the video tag. </video> <p>Seen from the inside of the structure, the behavior seems a bit more impressive, as is visible in the following movie:</p> <video width=700  controls> <source src="http://web.ist.utl.pt/antonio.menezes.leitao/ADA/SuperComputingFilms/DomeTrussRibsDeform6789.mp4" type="video/mp4"> Your browser does not support the video tag. </video> <p>It is interesting to note that, with one exception, these different topologies take approximately the same time to evaluate, slightly under one hour. The exception is the structure at the top right corner, which has significantly more bars and nodes than the others, which causes KhepriFrame3DD to take an inordinate amount of time to analyze the structure &#40;7h33m&#41;. Just in case, we repeated the four simulations twice but the results came almost exactly the same.</p> <p>Given that the structural analysis is single threaded but chained with the rendering, which is multi-threaded, the best we can do is to analyze multiple cases in different computing nodes. The total time, though, is the maximum, that is, 7h33.</p> <h1></h1> <p><a href="/SupercomputingKhepri/page2/">&lt;&lt; Previous Chapter</a></p> <p><a href="/SupercomputingKhepri/page4/">Next Chapter &gt;&gt;</a></p> <div class=page-foot > <div class=copyright > &copy; António Menezes Leitão. Last modified: March 19, 2021. Website built with <a href="https://github.com/tlienart/Franklin.jl">Franklin.jl</a> and the <a href="https://julialang.org">Julia programming language</a>. </div> </div> </div> </div> </div>